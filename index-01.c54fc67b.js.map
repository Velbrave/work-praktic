{"mappings":"0DACAA,OAAOC,eAAeC,EAAS,aAAc,CACzCC,OAAO,IAEXD,EAAQE,QACR,SAAyBC,EAAKC,EAAKH,GAC3BG,KAAOD,EACPL,OAAOC,eAAeI,EAAKC,EAAK,CAC5BH,MAAOA,EACPI,YAAY,EACZC,cAAc,EACdC,UAAU,IAGdJ,EAAIC,GAAOH,EAEf,OAAOE,C,EChBJ,SAASK,EAASJ,EAAKH,GAC5BQ,aAAaC,QAAQN,EAAKO,KAAKC,UAAUX,G,CAGpC,SAASY,EAAWT,GACzB,MAAMU,EAAOL,aAAaM,QAAQX,GAClC,IAEE,OADkBO,KAAKK,MAAMF,E,CAE7B,MACA,OAAOA,C,ECPX,MAAMG,EAAa,ICHZ,MAILC,QAAQjB,GACNkB,KAAKC,UAAYnB,EACjB,MAAMoB,EAAc,CAClBC,KAAM,UACNrB,MAAOA,EACPmB,QAASD,KAAKC,SAEhBD,KAAKI,mBAAmBC,KAAKH,E,CAG/BI,SAASxB,GACLkB,KAAKC,UAAYnB,EACnB,MAAMoB,EAAc,CAClBC,KAAM,WACNrB,MAAOA,EACPmB,QAASD,KAAKC,SAEhBD,KAAKI,mBAAmBC,KAAKH,E,eApB/BK,EAAA1B,EAAA,CAAAmB,KAAA,UAAU,GACVO,EAAA1B,EAAA,CAAAmB,KAAA,qBAAqB,G,GDIjBQ,EAAO,CACXC,QAASC,SAASC,cAAc,aAChCC,WAAYF,SAASC,cAAc,eACnCE,YAAaH,SAASC,cAAc,gBACpCG,YAAaJ,SAASC,cAAc,eACpCI,YAAaL,SAASC,cAAc,eACpCK,OAAQN,SAASC,cAAc,aAwCjC,SAASM,EAAWC,GAClBV,EAAKM,YAAYK,YAAcD,EAAKjB,QACpC,MAAMmB,EAASF,EAAKd,mBAAmBiB,KAAKC,GACnC,aACa,YAAdA,EAAKnB,KAAqB,IAAM,MAAMmB,EAAKxC,qBAEhDyC,KAAK,IACRf,EAAKO,YAAYS,UAAYJ,C,CAG/B,SAASK,EAAaP,GACpB7B,EAAS,UAAW6B,E,EAhDtB,WACE,MAAMQ,EAAQhC,EAAW,YACzBc,EAAKC,QAAQ3B,MAAQ4C,EACrB,MAAMC,EAAUjC,EAAW,WACvBiC,IACF7B,EAAWG,QAAU0B,EAAQ1B,QAC7BH,EAAWM,mBAAqBuB,EAAQvB,mBACxCa,EAAWnB,G,CAGf8B,GAEApB,EAAKC,QAAQoB,iBAAiB,SAoB9B,SAAmBC,GAEjBzC,EAAS,WADKyC,EAAMC,OAAOjD,M,IApB7B0B,EAAKQ,OAAOa,iBAAiB,UAAWC,IACtCA,EAAME,iBACNF,EAAMC,OAAOE,QACb3C,aAAa4C,WAAW,WAAW,IAGrC1B,EAAKI,WAAWiB,iBAAiB,SAAS,KACxC/B,EAAWC,QAAQS,EAAKC,QAAQ3B,OAChCmC,EAAWnB,GACX2B,EAAa3B,EAAW,IAG1BU,EAAKK,YAAYgB,iBAAiB,SAAS,KACxC/B,EAAWQ,SAASE,EAAKC,QAAQ3B,OACjCmC,EAAWnB,GACX2B,EAAa3B,EAAW","sources":["node_modules/@swc/helpers/lib/_define_property.js","src/js/bank/localstorage.js","src/js/index-01.js","src/js/bank/Bank.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","export function saveToLS(key, value) {\n  localStorage.setItem(key, JSON.stringify(value));\n}\n\nexport function loadFromLS(key) {\n  const item = localStorage.getItem(key);\n  try {\n    const parseItem = JSON.parse(item);\n    return parseItem;\n  } catch {\n    return item;\n  }\n}","import { Bank } from \"./bank/Bank\"\nimport { saveToLS, loadFromLS } from \"./bank/localstorage\";\n\nconst privatBank = new Bank()\n\n\nconst refs = {\n  inputEl: document.querySelector('.js-input'),\n  btnDeposit: document.querySelector('.js-deposit'),\n  btnWithdraw: document.querySelector('.js-withdraw'),\n  balanceElem: document.querySelector('.js-balance'),\n  historyElem: document.querySelector('.js-history'),\n  formEl: document.querySelector('.js-form'),\n}\n\nfunction onLoadWindow() {\n  const input = loadFromLS('inputKey');\n  refs.inputEl.value = input;\n  const receive = loadFromLS('bankObj');\n  if (receive) {\n    privatBank.balance = receive.balance;\n    privatBank.historyTransaction = receive.historyTransaction;\n    renderData(privatBank);\n  }\n}\nonLoadWindow()\n\nrefs.inputEl.addEventListener('input', onInputEl)\nrefs.formEl.addEventListener('submit', (event) => {\n  event.preventDefault();\n  event.target.reset();\n  localStorage.removeItem('inputKey');\n  //saveToLS('inputKey', '');\n})\nrefs.btnDeposit.addEventListener('click', () => {\n  privatBank.deposit(refs.inputEl.value)\n  renderData(privatBank)\n  saveDataBank(privatBank)\n  // console.log(privatBank);\n})\nrefs.btnWithdraw.addEventListener('click', () => {\n   privatBank.withdraw(refs.inputEl.value)\n   renderData(privatBank)\n   saveDataBank(privatBank)\n  //console.log(privatBank);\n})\n\nfunction onInputEl(event) {\n  const value = event.target.value;\n  saveToLS('inputKey',value)\n}\n\nfunction renderData(bank) {\n  refs.balanceElem.textContent = bank.balance;\n  const markup = bank.historyTransaction.map((elem) => {\n    return `\n    <li>${elem.type === 'deposit' ? '+' : '-'}${elem.value}</li>\n    `\n  }).join('')\n  refs.historyElem.innerHTML = markup;\n}\n\nfunction saveDataBank(bank) {\n  saveToLS('bankObj', bank);\n}","export class Bank {\n  balance = 0;\n  historyTransaction = [];\n\n  deposit(value) {\n    this.balance += +value; \n    const transaction = {\n      type: 'deposit',\n      value: value,\n      balance: this.balance,\n    }\n    this.historyTransaction.push(transaction);\n  }\n\n  withdraw(value) {\n      this.balance -= +value; \n    const transaction = {\n      type: 'withdraw',\n      value: value,\n      balance: this.balance,\n    }\n    this.historyTransaction.push(transaction);\n  }\n}"],"names":["Object","defineProperty","$da4b248c00322402$exports","value","default","obj","key","enumerable","configurable","writable","$53d4c966d08c41c6$export$53c15ea6e761c354","localStorage","setItem","JSON","stringify","$53d4c966d08c41c6$export$6ffe6b83d6e92153","item","getItem","parse","$33b3fb6b43802e6f$var$privatBank","deposit","this","balance","transaction","type","historyTransaction","push","withdraw","$parcel$interopDefault","$33b3fb6b43802e6f$var$refs","inputEl","document","querySelector","btnDeposit","btnWithdraw","balanceElem","historyElem","formEl","$33b3fb6b43802e6f$var$renderData","bank","textContent","markup","map","elem","join","innerHTML","$33b3fb6b43802e6f$var$saveDataBank","input","receive","$33b3fb6b43802e6f$var$onLoadWindow","addEventListener","event","target","preventDefault","reset","removeItem"],"version":3,"file":"index-01.c54fc67b.js.map"}